(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{3291:function(e,t,a){Promise.resolve().then(a.bind(a,5521))},5521:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var n=a(7437),r=a(2265),s=a(6463),o=a(857),i=a(495),l=a(8030);let c=(0,l.Z)("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);var d=a(1240),u=a(2023),h=a(4241),m=a(933);let f=(0,l.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var y=a(4697);let g=(0,l.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var v=a(500);let x=(0,l.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var p=a(9896);function b(){let{isAuthenticated:e,user:t,logout:a}=(0,o.a)(),l=(0,s.useRouter)(),b=(0,s.usePathname)(),[w,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{k(!1)},[b]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&k(!1)};return w&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[w]);let j=[{name:"利用申請管理",href:"/admin/applications",icon:c},{name:"ユーザー管理",href:"/admin/users",icon:d.Z},{name:"投稿管理",href:"/admin/posts",icon:u.Z},{name:"イベント管理",href:"/admin/events",icon:h.Z},{name:"営業時間管理",href:"/admin/business-hours",icon:m.Z},{name:"設定",href:"/admin/settings",icon:f}],N=e=>{l.push(e),k(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"md:hidden fixed top-4 left-4 z-50",children:(0,n.jsx)(i.z,{variant:"asics-primary",size:"sm",onClick:()=>{k(!w)},className:"shadow-lg w-12 h-12",rounded:"full","aria-label":w?"メニューを閉じる":"メニューを開く",children:w?(0,n.jsx)(y.Z,{className:"h-5 w-5"}):(0,n.jsx)(g,{className:"h-5 w-5"})})}),(0,n.jsxs)("nav",{className:"fixed left-0 top-0 h-full w-64 bg-gradient-to-b from-asics-satoyama-blue to-asics-satoyama-blue-800 shadow-2xl z-40 transition-transform duration-300 ease-in-out ".concat(w?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[(0,n.jsxs)("div",{className:"relative p-6 border-b border-asics-satoyama-blue-600 overflow-hidden",children:[(0,n.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,n.jsx)("svg",{className:"w-full h-full",viewBox:"0 0 200 80",preserveAspectRatio:"none",children:(0,n.jsx)("path",{d:"M0,40 Q50,20 100,40 T200,40 L200,80 L0,80 Z",fill:"currentColor",className:"text-asics-satoyama-green"})})}),(0,n.jsxs)("div",{className:"relative z-10",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(v.Z,{className:"h-8 w-8 text-asics-satoyama-green"}),(0,n.jsx)("h1",{className:"text-xl font-heading font-bold text-white",children:"里山ドッグラン"})]}),(0,n.jsx)("p",{className:"text-sm text-asics-satoyama-green/70 mt-1",children:"管理システム"})]})]}),e&&(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)("nav",{className:"space-y-2",children:j.map(e=>{let t=e.icon,a=b===e.href;return(0,n.jsxs)("button",{onClick:()=>N(e.href),className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-300 ".concat(a?"bg-asics-satoyama-gold text-white shadow-lg transform scale-105":"text-white/80 hover:text-white hover:bg-asics-satoyama-blue-600 hover:shadow-md"),children:[(0,n.jsx)(t,{className:"h-5 w-5"}),(0,n.jsx)("span",{children:e.name})]},e.name)})})}),e&&(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-asics-satoyama-blue-600 bg-asics-satoyama-blue-900",children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("div",{className:"text-sm text-asics-satoyama-green/70 px-2",children:null==t?void 0:t.email}),(0,n.jsxs)(i.z,{variant:"asics-secondary",size:"sm",onClick:()=>l.push("/"),className:"w-full flex items-center justify-center space-x-2 bg-white/10 border-white/30 text-white hover:bg-white hover:text-asics-satoyama-blue",children:[(0,n.jsx)(x,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"ユーザー側へ戻る"})]}),(0,n.jsxs)(i.z,{variant:"asics-gold",size:"sm",onClick:()=>{a(),l.push("/admin")},className:"w-full flex items-center justify-center space-x-2",children:[(0,n.jsx)(p.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:"ログアウト"})]})]})}),!e&&(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)("div",{className:"text-center text-gray-500 text-sm",children:(0,n.jsx)("p",{children:"ログインしてください"})})})]}),w&&(0,n.jsx)("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>k(!1)})]})}function w(e){let{children:t}=e,[a,i]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!0),d=(0,s.useRouter)(),u=(0,s.usePathname)();return((0,r.useEffect)(()=>{let e=localStorage.getItem("admin_access_token");e||"/admin/login"===u?e&&"/admin/login"===u?d.push("/admin"):i(!!e):d.push("/admin/login"),c(!1)},[d,u]),l)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):"/admin/login"===u?(0,n.jsx)(n.Fragment,{children:t}):a?(0,n.jsx)(o.H,{children:(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)(b,{}),(0,n.jsx)("div",{className:"md:ml-64 p-4 md:p-6",children:t})]})}):null}},495:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var n=a(7437),r=a(2265),s=a(1538),o=a(3027),i=a(7440);let l=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 transform hover:scale-105 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline","asics-primary":"bg-asics-satoyama-blue text-white hover:bg-asics-satoyama-blue-600 hover:shadow-lg","asics-secondary":"bg-asics-satoyama-white text-asics-satoyama-blue border-2 border-asics-satoyama-blue hover:bg-asics-satoyama-blue hover:text-white","asics-green":"bg-asics-satoyama-green text-white hover:bg-asics-satoyama-green-600 hover:shadow-lg","asics-gold":"bg-asics-satoyama-gold text-white hover:bg-asics-satoyama-gold-600 hover:shadow-lg","asics-navy":"bg-asics-satoyama-navy text-white hover:bg-asics-satoyama-navy-600 hover:shadow-lg","asics-yellow":"bg-asics-satoyama-yellow text-asics-satoyama-navy font-bold hover:bg-asics-satoyama-yellow-600 hover:shadow-lg","fc-primary":"bg-fc-imabari-navy text-white hover:opacity-90 hover:shadow-lg","fc-cta":"bg-fc-imabari-yellow text-fc-imabari-navy font-bold hover:opacity-90 hover:shadow-lg","fc-secondary":"border-2 border-fc-imabari-navy text-fc-imabari-navy bg-white hover:bg-fc-imabari-navy hover:text-white","satoyama-nature":"bg-asics-satoyama-green text-white font-bold hover:shadow-lg","satoyama-gold":"bg-asics-satoyama-gold text-white hover:opacity-90 hover:shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-14 rounded-md px-10 text-lg",icon:"h-10 w-10"},rounded:{default:"rounded-md",full:"rounded-full",lg:"rounded-lg",none:"rounded-none"}},defaultVariants:{variant:"default",size:"default",rounded:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,rounded:c,asChild:d=!1,...u}=e,h=d?s.g7:"button";return(0,n.jsx)(h,{className:(0,i.cn)(l({variant:r,size:o,rounded:c,className:a})),ref:t,...u})});c.displayName="Button"},857:function(e,t,a){"use strict";a.d(t,{H:function(){return o},a:function(){return i}});var n=a(7437),r=a(2265);let s=(0,r.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("admin_token"),t=localStorage.getItem("admin_user");e&&t&&(o(!0),l(JSON.parse(t)))},[]);let c=async(e,t)=>{try{if("admin@satoyama-dogrun.com"===e&&"admin2025!"===t){let t={email:e,role:"admin"},a="demo_token_"+Date.now();try{localStorage.setItem("admin_token",a),localStorage.setItem("admin_user",JSON.stringify(t))}catch(e){console.error("Storage error:",e)}return o(!0),l(t),!0}return!1}catch(e){return console.error("Login error:",e),!1}};return(0,n.jsx)(s.Provider,{value:{isAuthenticated:a,user:i,login:c,logout:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),o(!1),l(null)}},children:t})}function i(){let e=(0,r.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1822:function(e,t,a){"use strict";var n,r,s,o,i,l,c,d,u,h,m,f;a.d(t,{C$:function(){return l},J0:function(){return n},Tu:function(){return y},YN:function(){return s},kK:function(){return o},l0:function(){return i},wo:function(){return r}});let y="\nご利用にあたっては、管理スタッフの指示に従ってください。従っていただけない場合はご利用をお断りする場合がございます。\n予防接種(狂犬病・各種ワクチン)を1 年以内に受けていない犬及び犬鑑札をつけていない犬はご入場いただけません。\n大型のワンちゃん(体重20kg 以上)のご利用はご遠慮頂いております。\n入場後、ドッグランの雰囲気・ほかの犬になじませてからリードを外してください。\n犬だけをドッグラン内に放置することの無いよう、常に必要な制御ができるように犬から目を離さず一緒に行動してください。\n中学生以下の利用は保護者の同伴が必要です。また、３歳以下の乳幼児は安全のため入場させないでください。\nドッグランの中でおもちゃは使用しないでください。また、犬への餌やりや、飼い主の飲食及び喫煙もご遠慮願います。\nごみや犬の排泄物はご自身でお持ち帰りください（ごみ箱は用意してありません）。\n次のいずれかに該当する場合は利用できません\n発情期の雌犬及び病気の犬\n闘犬を目的とした犬や無駄吠えをする犬等他の利用者に恐怖感を与える犬\n犬以外のペット\n万が一犬同士のトラブルが発生した場合は、即座にリード繋ぎ、飼い主と犬の安全に注意してトラブルの鎮圧化にご協力ください。\nドッグラン内におけるお客様同士のトラブルについて、弊社では一切の責任を負いかねます。当事者間で解決されるようお願いいたします。\n個人が特定できうる情報や公序良俗に反するもの、発信内容が事実と著しく乖離する情報のインターネット上への書き込みや写真の掲載はおやめください。\n天候などの事情によりドッグラン施設を閉鎖する場合がございます。\n里山スタジアムでFC 今治トップチームが公開練習実施している際はボールが飛んでくる可能性がございます。予めご了承の上公開練習日にご利用の際はご留意ください。\n緊急時や、上記事項をお守りいただけない場合、退出をお願いする場合があります。その際は 速やかに指示に従いご退出ください。\n利用申込書に虚偽の記載があった場合ご利用をお断りする可能性がございます。\n";(c=n||(n={})).Initial="initial",c.RegistrationForm="registration_form",c.RegistrationPending="registration_pending",c.ApprovedNeedsLogin="approved_needs_login",c.LoggedIn="logged_in",c.ForgotPasswordForm="forgot_password_form",c.ForgotPasswordSent="forgot_password_sent",(d=r||(r={})).Home="home",d.Events="events",d.Feed="feed",d.Entry="entry",d.Profile="profile",(u=s||(s={})).Initial="initial",u.Pending="pending",u.Approved="approved",(h=o||(o={})).Dogrun="dogrun",h.Salon="salon",(m=i||(i={})).Open="open",m.Closed="closed",m.Limited="limited",m.Empty="empty",(f=l||(l={})).LessThan1Year="less_than_1_year",f.OneToThreeYears="1_to_3_years",f.ThreeToFiveYears="3_to_5_years",f.MoreThan5Years="more_than_5_years",f.NotInImabari="not_in_imabari"},7440:function(e,t,a){"use strict";a.d(t,{DS:function(){return i},Rt:function(){return d},XL:function(){return l},cn:function(){return o},s8:function(){return c}});var n=a(4839),r=a(6164),s=a(1822);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}let i=e=>{let t=new Date(e),a=new Date;return t>=new Date(a.getFullYear()-1,a.getMonth(),a.getDate())},l=(e,t)=>{let a=new Date(e,t,0).getDate(),n=new Date(e,t-1,1).getDay(),r=[];for(let e=0;e<n;e++)r.push({date:null,status:s.l0.Empty,hours:null,isEventDay:!1});for(let n=1;n<=a;n++){let a=s.l0.Open,o="6:00-22:00";1===new Date(e,t-1,n).getDay()&&(a=s.l0.Closed,o=null),3===t&&(1===n||2===n)&&(a=s.l0.Closed,o=null),3===t&&15===n&&(a=s.l0.Limited,o="6:00-18:00"),3===t&&20===n?r.push({date:n,status:a,hours:o,isEventDay:!0}):r.push({date:n,status:a,hours:o,isEventDay:!1})}return r},c=(e,t)=>{let a=new Date(e,t,0).getDate(),n=new Date(e,t-1,1).getDay(),r=[];for(let e=0;e<n;e++)r.push({date:null,status:s.l0.Empty,hours:null,isEventDay:!1});for(let n=1;n<=a;n++){let a=s.l0.Open,o="10:00-18:00";3===new Date(e,t-1,n).getDay()&&(a=s.l0.Closed,o=null),3===t&&(1===n||2===n)&&(a=s.l0.Closed,o=null),3===t&&15===n&&(a=s.l0.Limited,o="10:00-14:00"),r.push({date:n,status:a,hours:o,isEventDay:!1})}return r},d=e=>{switch(e){case s.l0.Open:return{backgroundColor:"rgba(0, 8, 148, 0.1)",color:"rgb(0, 8, 148)"};case s.l0.Closed:return{backgroundColor:"rgba(255, 235, 0, 0.3)",color:"rgb(0, 8, 148)"};case s.l0.Limited:return{backgroundColor:"rgba(144, 238, 144, 0.3)",color:"rgb(0, 8, 148)"};case s.l0.Empty:default:return{}}}},4241:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(8030).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},933:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(8030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2023:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(8030).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9896:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(8030).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},500:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(8030).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},1240:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(8030).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},4697:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(8030).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6463:function(e,t,a){"use strict";var n=a(1169);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[485,971,23,744],function(){return e(e.s=3291)}),_N_E=e.O()}]);